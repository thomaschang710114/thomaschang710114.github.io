(this["webpackJsonplegiopad-app"]=this["webpackJsonplegiopad-app"]||[]).push([[13],{544:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(424),a=n(147),o=n(444),c=n(623),i=n(4),s=Object(r.a)((function(e){return{root:{position:"relative",padding:"24px 0"},content:{padding:32,fontWeight:600,minHeight:200,textAlign:"center",background:e.colors.neutralLight,position:"relative",display:"flex",flexDirection:"column",justifyContent:"center"},title:{fontSize:"2rem",color:e.colors.neutralLighter,fontWeight:700,marginBottom:16},illustration:{position:"absolute",top:0,right:0,bottom:0,pointerEvents:"none","& svg":{height:"100%"}},main:{},description:{color:e.colors.neutralLighter,fontWeight:600,fontSize:20,marginTop:12},buttonContained:{backgroundColor:e.colors.primary,boxShadow:"0 0 1px 0 rgb(0 0 0 / 31%), 0 2px 2px -2px rgb(0 0 0 / 25%)",padding:"6px 16px",fontSize:"0.875rem",minWidth:"64px",boxSizing:"border-box",fontWeight:500,lineHeight:1.75,borderRadius:"4px",letterSpacing:"0.02857em",textTransform:"none",color:e.colors.neutralDark,cursor:"pointer",margin:"0",display:"inline-flex",outline:"0",position:"relative",alignItems:"center",userSelect:"none",verticalAlign:"middle",textDecoration:"none",WebkitTapHighlightColor:"transparent",border:"none","&:hover":{backgroundColor:e.colors.primary}}}})),l=function(e){var t=e.title,n=e.description,r=e.btnTitle,l=e.typeformId,d=e.btnUrl,u=s();return Object(i.jsx)("div",{className:u.root,children:Object(i.jsxs)("div",{className:u.content,children:[Object(i.jsx)("div",{className:u.illustration,children:Object(i.jsxs)("svg",{width:"400",height:"232",viewBox:"0 0 400 232",xmlns:"http://www.w3.org/2000/svg",children:[Object(i.jsxs)("defs",{children:[Object(i.jsxs)("radialGradient",{cx:"50%",cy:"50%",fx:"50%",fy:"50%",r:"39.386%",id:"box-gr-a",children:[Object(i.jsx)("stop",{stopColor:"rgba(252,218,0,0.5)",offset:"0%"}),Object(i.jsx)("stop",{stopColor:"rgba(252,218,0,0.5)",stopOpacity:"0",offset:"100%"})]}),Object(i.jsxs)("radialGradient",{cx:"50%",cy:"50%",fx:"50%",fy:"50%",r:"39.386%",id:"box-gr-b",children:[Object(i.jsx)("stop",{stopColor:"rgba(252,218,0,1)",offset:"0%"}),Object(i.jsx)("stop",{stopColor:"rgba(252,218,0,1)",stopOpacity:"0",offset:"100%"})]})]}),Object(i.jsxs)("g",{transform:"translate(-85 -369)",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{fillOpacity:".16",fill:"url(#box-gr-a)",cx:"413",cy:"688",r:"240"}),Object(i.jsx)("circle",{fillOpacity:".24",fill:"url(#box-gr-b)",cx:"400",cy:"400",r:"400"})]})]})}),Object(i.jsxs)("div",{className:u.main,children:[Object(i.jsx)(a.a,{align:"center",component:"h3",className:u.title,children:t}),n&&Object(i.jsx)(a.a,{className:u.description,children:n}),l?Object(i.jsx)(c.PopupButton,{id:"r5JLNVlb",className:u.buttonContained,children:r}):Object(i.jsx)(o.a,{color:"primary",variant:"contained",href:d,children:r})]})]})})}},843:function(e,t,n){"use strict";var r=n(95),a=n(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),c=(0,r(n(97)).default)(o.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=c},844:function(e,t,n){"use strict";var r=n(95),a=n(96);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),c=(0,r(n(97)).default)(o.createElement("path",{d:"M19 13H5v-2h14v2z"}),"Remove");t.default=c},873:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n(8),o=n(12),c=n(424),i=n(147),s=n(464),l=n(451),d=n(128),u=n(16),b=n(29),j=n(0),p=n(23),f=n(1),m=n.n(f),h=n(11),x=n(21),g=n(148),O=n(87),v=n(50),w=n(201),k=n(86),y=n(19),C=n(444),N=n(28),W=n(434),L=n(13),S=n(4),I=Object(c.a)((function(e){return{root:{position:"absolute",width:380,backgroundColor:e.colors.fourth,padding:e.spacing(4),top:"50%",left:"50%",transform:"translate(-50%, -50%)",outline:"none",maxHeight:"80vh",userSelect:"none",overflowY:"auto",textAlign:"center",border:"1px solid ".concat(Object(N.a)(.8,e.colors.neutralLighter))},label:{fontSize:18,color:e.colors.neutralLighter,marginBottom:24,fontWeight:600},buttons:{display:"flex",alignItems:"center","&>*+*":{marginLeft:4},"&>*":{flex:1,"& span":{color:e.colors.black,fontWeight:600}}},button:{}}})),A=function(e){var t=I(),n=e.onConfirm,r=e.onClose;return Object(S.jsx)(W.a,{disableBackdropClick:!0,onClose:r,open:!0,children:Object(S.jsxs)("div",{className:Object(L.a)(t.root),children:[Object(S.jsx)(i.a,{className:t.label,children:"Your Lock Period will be reset again!"}),Object(S.jsxs)("div",{className:t.buttons,children:[" ",Object(S.jsx)(C.a,{color:"primary",onClick:n,variant:"contained",children:"Confirm"}),Object(S.jsx)(C.a,{color:"secondary",onClick:r,variant:"contained",children:"Cancel"})]})]})})},R=Object(c.a)((function(e){return{root:{flexGrow:1,flexBasis:0,border:"1px solid ".concat(Object(N.a)(.8,e.colors.neutralLighter)),padding:12},earned:{color:Object(N.a)(.2,e.colors.neutralLighter),fontSize:14,marginBottom:8},amount:{color:e.colors.neutralLighter,fontSize:20,fontWeight:600},collect:{backgroundColor:e.colors.transparent,border:"1px solid ".concat(Object(N.a)(.8,e.colors.neutralLighter)),"& span":{color:e.colors.primary,fontWeight:600},"&:disabled":{backgroundColor:Object(N.a)(.6,e.colors.black),border:"1px solid ".concat(Object(N.a)(.7,e.colors.neutralLighter)),"& span":{color:Object(N.a)(.7,e.colors.neutralLighter),fontWeight:600}}},row:{display:"flex",justifyContent:"space-between",alignItems:"center"}}})),T=function(e){var t=R(),n=e.token,r=e.earned,a=e.onHarvest,c=Object(j.useState)(!1),s=Object(o.a)(c,2),l=s[0],d=s[1],u=function(){var e=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:d(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:t.root,children:[l&&Object(S.jsx)(A,{onClose:function(){return d((function(){return!1}))},onConfirm:u}),Object(S.jsxs)(i.a,{className:t.earned,children:[Object(S.jsx)("b",{children:n.symbol.toUpperCase()})," EARNED"]}),Object(S.jsxs)("div",{className:t.row,children:[Object(S.jsx)(i.a,{className:t.amount,children:Object(k.d)(Object(k.b)(r,n.decimals))}),Object(S.jsx)(C.a,{color:"primary",className:t.collect,disabled:r.isZero(),onClick:function(){return d((function(){return!0}))},variant:"contained",children:"Collect"})]})]})},z=n(446),B=n(113),E=Object(c.a)((function(e){return{root:{maxWidth:400,margin:"auto",padding:"20px 28px",backgroundColor:e.colors.neutralLight},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16,"&.expanded":{borderBottomLeftRadius:0,borderBottomRightRadius:0}},headerIcons:{marginRight:8},headerIcon:{width:40,height:40,borderRadius:"50%",position:"relative","&:not(:first-child)":{left:-12,width:24,height:24}},headerLeft:{display:"flex",alignItems:"center"},headerComment:{color:Object(N.a)(.4,e.colors.neutralLighter),fontSize:12},headerTitle:{marginTop:0,fontSize:18,fontWeight:600,color:e.colors.neutralLighter,maxWidth:180},tvlWrapper:{textAlign:"center",paddingBottom:12},tvlToken:{fontWeight:600,color:e.colors.neutralLighter,fontSize:18,"& span":{color:e.colors.primary}},tvlValue:{fontWeight:600,color:Object(N.a)(.4,e.colors.neutralLighter)},aprWrapper:{border:"1px solid ".concat(Object(N.a)(.8,e.colors.neutralLighter)),padding:20,display:"flex",alignItems:"center",justifyContent:"space-between","& > div":{flex:1,textAlign:"center"},"& > div + div":{borderLeft:"1px solid ".concat(Object(N.a)(.9,e.colors.neutralLighter))}},infoWrapper:{textAlign:"center"},infoLabel:{fontSize:12,color:e.colors.neutralLighter},infoValue:{fontSize:20,fontWeight:600,color:e.colors.neutralLighter},loader:{color:e.colors.neutralLighter},contentWrapper:{paddingTop:4},content:{}}})),F=function(e){var t=E(),n=(Object(B.a)(),e.loading),r=e.header;return Object(S.jsxs)("div",{className:Object(L.a)(t.root),children:[Object(S.jsx)("div",{className:Object(L.a)(t.header),children:Object(S.jsxs)("div",{className:t.headerLeft,children:[Object(S.jsx)("div",{className:t.headerIcons,children:r.icons.map((function(e){return Object(S.jsx)("img",{alt:"icon",className:t.headerIcon,src:e},e)}))}),Object(S.jsxs)("div",{children:[Object(S.jsx)(i.a,{className:t.headerComment,children:"Stake:"}),Object(S.jsx)(i.a,{className:t.headerTitle,children:r.label})]})]})}),Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:t.tvlWrapper,children:n?Object(S.jsx)(z.a,{classes:{root:t.loader},size:16}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(i.a,{className:t.tvlToken,children:[Object(k.d)(Object(k.b)(r.totalStaked,r.decimals,0))," ",Object(S.jsx)("span",{children:r.symbol})]}),Object(S.jsx)(i.a,{className:t.tvlValue,children:r.tvl.isZero()?"-":Object(S.jsxs)(S.Fragment,{children:["$\xa0",Object(k.d)(Object(k.b)(r.tvl,r.decimals+y.c,0))]})})]})}),Object(S.jsxs)("div",{className:t.aprWrapper,children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(i.a,{className:t.infoValue,children:r.apr>0?"".concat(r.apr,"%"):"-"}),Object(S.jsx)(i.a,{className:t.infoLabel,children:"APR"})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)(i.a,{className:t.infoValue,children:r.rewardSymbol}),Object(S.jsx)(i.a,{className:t.infoLabel,children:"EARN"})]})]})]}),Object(S.jsx)("div",{className:Object(L.a)(t.contentWrapper),children:Object(S.jsx)("div",{className:t.content,children:e.children})})]})},P=n(459),V=n(843),G=n.n(V),D=n(844),M=n.n(D),U=Object(c.a)((function(e){return{root:{position:"absolute",width:380,backgroundColor:e.colors.fourth,padding:e.spacing(4),top:"50%",left:"50%",transform:"translate(-50%, -50%)",outline:"none",maxHeight:"80vh",userSelect:"none",overflowY:"auto",textAlign:"center",border:"1px solid ".concat(Object(N.a)(.8,e.colors.neutralLighter))},label:{fontSize:18,color:e.colors.neutralLighter,marginBottom:24,fontWeight:600},comment:{fontSize:16,color:e.colors.error,marginBottom:24},balanceRow:{display:"flex",alignItems:"center",justifyContent:"flex-end",marginBottom:16},rowLabel:{fontSize:16,color:e.colors.neutralLighter},rowValue:{fontSize:18,color:e.colors.primary,fontWeight:600},buttons:{display:"flex",alignItems:"center","&>*+*":{marginLeft:4},"&>*":{flex:1,"& span":{color:e.colors.black,fontWeight:600}}},button:{"&:disabled":{backgroundColor:Object(N.a)(.8,e.colors.neutralLighter)}}}})),H=function(e){var t=U(),n=e.onConfirm,r=e.onClose,c=e.token,s=e.lockPeriod,l=e.emgergencyWithdrawFee,u=Object(j.useState)({amount:p.b}),b=Object(o.a)(u,2),f=b[0],m=b[1],h=Object(g.m)(c.address).balance,x=Math.floor(s/60/60/24);return Object(S.jsx)(W.a,{disableBackdropClick:!0,onClose:r,open:!0,children:Object(S.jsxs)("div",{className:Object(L.a)(t.root),children:[Object(S.jsxs)(i.a,{className:t.label,children:["Deposit ",c.symbol.toUpperCase()]}),Object(S.jsxs)(i.a,{align:"left",className:t.comment,children:["It will be locked for ",x," days.",Object(S.jsx)("br",{}),"EmergencyWithdraw will charge ",l,"% fee and no rewards."]}),Object(S.jsx)(d.a,{token:c,value:f.amount,onChange:function(e){return m((function(t){return Object(a.a)(Object(a.a)({},t),{},{amount:e})}))},onMax:function(){m((function(t){return Object(a.a)(Object(a.a)({},t),{},{amount:e.max})}))}}),Object(S.jsxs)("div",{className:t.balanceRow,children:[Object(S.jsx)(i.a,{className:t.rowLabel,children:"Balance:\xa0"}),Object(S.jsxs)(i.a,{className:t.rowValue,children:[Object(k.d)(Object(k.b)(h,c.decimals))," ",c.symbol.toUpperCase()]})]}),Object(S.jsxs)("div",{className:t.buttons,children:[Object(S.jsx)(C.a,{className:t.button,color:"primary",onClick:function(){return n(f.amount)},variant:"contained",disabled:f.amount.isZero(),children:"Deposit"}),Object(S.jsx)(C.a,{color:"secondary",onClick:r,variant:"contained",children:"Cancel"})]})]})})},Z=Object(c.a)((function(e){return{root:{position:"absolute",width:380,backgroundColor:e.colors.fourth,padding:e.spacing(4),top:"50%",left:"50%",transform:"translate(-50%, -50%)",outline:"none",maxHeight:"80vh",userSelect:"none",overflowY:"auto",textAlign:"center",border:"1px solid ".concat(Object(N.a)(.8,e.colors.neutralLighter))},label:{fontSize:18,color:e.colors.neutralLighter,marginBottom:24,fontWeight:600},balanceRow:{display:"flex",alignItems:"center",justifyContent:"flex-end",marginBottom:16},rowLabel:{fontSize:16,color:e.colors.neutralLighter},rowValue:{fontSize:18,color:e.colors.primary,fontWeight:600},buttons:{display:"flex",alignItems:"center","&>*+*":{marginLeft:4},"&>*":{flex:1,"& span":{color:e.colors.black,fontWeight:600}}},button:{"&:disabled":{backgroundColor:Object(N.a)(.8,e.colors.neutralLighter)}},emergencyWithdraw:{marginTop:4,"& span":{color:e.colors.black,fontWeight:600}},helper:{color:Object(N.a)(.4,e.colors.neutralLighter),fontSize:14,marginTop:4,"&.warn":{color:e.colors.error}}}})),Y=function(e){var t=Z(),n=e.onWithdraw,r=e.onClose,c=e.token,s=e.onEmergencyWithdraw,l=e.emgergencyWithdrawFee,u=e.lastClaim,b=e.lockPeriod,f=Object(j.useState)({amount:p.b}),m=Object(o.a)(f,2),h=m[0],x=m[1],g=u+b-Math.floor(Date.now()/1e3),O=g<=0,v=function(){if(O)return"";var e=g%60,t=Math.floor(g/60),n=t%60,r=Math.floor(t/60),a=r%24,o=Math.floor(r/24);return o>0?"".concat(o," day").concat(o>0?"s":""):a>0?"".concat(a," hour").concat(a>0?"s":""):n>0?"".concat(n," min").concat(n>0?"s":""):"".concat(e," sec").concat(e>0?"s":"")}();return Object(S.jsx)(W.a,{disableBackdropClick:!0,onClose:r,open:!0,children:Object(S.jsxs)("div",{className:Object(L.a)(t.root),children:[Object(S.jsxs)(i.a,{className:t.label,children:["Withdraw ",c.symbol.toUpperCase()]}),Object(S.jsx)(i.a,{className:t.helper,children:O?"You can withdraw now":"You have ".concat(v," remaining lock period")}),Object(S.jsx)("br",{}),Object(S.jsx)(d.a,{token:c,value:h.amount,onChange:function(e){return x((function(t){return Object(a.a)(Object(a.a)({},t),{},{amount:e})}))},onMax:function(){x((function(t){return Object(a.a)(Object(a.a)({},t),{},{amount:e.max})}))}}),Object(S.jsxs)("div",{className:t.balanceRow,children:[Object(S.jsx)(i.a,{className:t.rowLabel,children:"Deposited:\xa0"}),Object(S.jsxs)(i.a,{className:t.rowValue,children:[Object(k.d)(Object(k.b)(e.max,c.decimals))," ",c.symbol.toUpperCase()]})]}),Object(S.jsxs)("div",{className:t.buttons,children:[Object(S.jsx)(C.a,{className:t.button,color:"primary",onClick:function(){return n(h.amount)},variant:"contained",disabled:h.amount.isZero()||!O,children:"Withdraw"}),Object(S.jsx)(C.a,{color:"secondary",onClick:r,variant:"contained",children:"Cancel"})]}),Object(S.jsx)(C.a,{className:Object(L.a)(t.button,t.emergencyWithdraw),color:"primary",fullWidth:!0,onClick:function(){return s(h.amount)},variant:"contained",disabled:h.amount.isZero(),children:"Emergency Withdraw"}),Object(S.jsxs)(i.a,{className:Object(L.a)(t.helper,"warn"),children:["You can do emergencyWithdraw with ",l,"% fee and no rewards"]})]})})},_=Object(c.a)((function(e){return{root:{flexGrow:1,flexBasis:0,border:"1px solid ".concat(Object(N.a)(.8,e.colors.neutralLighter)),padding:12},label:{color:Object(N.a)(.2,e.colors.neutralLighter),fontSize:14,marginBottom:8},amount:{color:e.colors.neutralLighter,fontSize:20,fontWeight:600,flex:1},actions:{display:"flex",alignItems:"center"},action:{color:e.colors.neutralLighter,padding:12,border:"1px solid ".concat(Object(N.a)(.8,e.colors.neutralLighter)),"&:disabled":{color:Object(N.a)(.7,e.colors.neutralLighter),borderColor:Object(N.a)(.8,e.colors.neutralLighter)}},button:{"& span":{color:e.colors.black,fontWeight:600}},row:{display:"flex",justifyContent:"space-between",alignItems:"center"}}})),J=function(e){var t=_(),n=Object(b.b)(),r=n.account,a=n.setWalletConnectModalOpened,c=e.token,s=e.depositedAmount,l=e.onDeposit,d=e.onWithdraw,u=e.onApprove,p=e.isApproved,f=e.onEmergencyWithdraw,x=e.lastClaim,O=e.lockPeriod,v=e.emgergencyWithdrawFee,w=Object(j.useState)(!1),y=Object(o.a)(w,2),N=y[0],W=y[1],L=Object(j.useState)(!1),I=Object(o.a)(L,2),A=I[0],R=I[1],T=!!r,z=function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:W(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:R(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:R(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=Object(g.m)(c.address).balance;return Object(S.jsxs)("div",{className:t.root,children:[N&&Object(S.jsx)(H,{onClose:function(){return W((function(){return!1}))},token:c,onConfirm:z,max:F,lockPeriod:O,emgergencyWithdrawFee:v}),A&&Object(S.jsx)(Y,{onClose:function(){return R((function(){return!1}))},token:c,onWithdraw:B,onEmergencyWithdraw:E,max:e.depositedAmount,lastClaim:x,lockPeriod:O,emgergencyWithdrawFee:v}),Object(S.jsx)(i.a,{className:t.label,children:T&&p?Object(S.jsxs)(S.Fragment,{children:["Staked ",Object(S.jsx)("b",{children:c.symbol.toUpperCase()})]}):"Start Staking"}),Object(S.jsx)("div",{className:t.row,children:T&&p?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(i.a,{className:t.amount,children:Object(k.d)(Object(k.b)(s,c.decimals))}),Object(S.jsxs)("div",{className:t.actions,children:[Object(S.jsx)(P.a,{className:t.action,disabled:F.isZero(),onClick:function(){return W((function(){return!0}))},children:Object(S.jsx)(G.a,{})}),"\xa0",Object(S.jsx)(P.a,{className:t.action,disabled:s.isZero(),onClick:function(){return R((function(){return!0}))},children:Object(S.jsx)(M.a,{})})]})]}):Object(S.jsx)(C.a,{color:"primary",className:t.button,fullWidth:!0,onClick:function(){T?u().then():a(!0)},variant:"contained",children:T?"contained":"Connect Wallet"})})]})},$=Object(c.a)((function(e){return{root:{},infoSection:Object(r.a)({flexGrow:0,flexShrink:0,flexBasis:"auto",padding:8},e.breakpoints.up("md"),{width:230}),infoRow:{"& + &":{marginTop:8}},actionContainer:{"& > * + *":{marginTop:8}}}})),q=function(e){var t=$(),n=e.data,r=Object(b.b)(),c=r.account,i=r.library,s=r.networkId,l=r.setTxModalInfo,f=Object(u.h)(n.token,s),C=Object(g.l)(n),N=C.loading,W=C.data,L=C.reload,I=Object(g.n)(n.token).token0,A=Object(u.d)(s),R=Object(O.b)().enqueueSnackbar,z=Object(u.h)(n.rewardToken,s),B=Object(j.useState)({loaded:!1,personalInfo:{amount:p.b,pendingRewards:p.b,lastClaim:0},isApproved:!1,apr:null}),E=Object(o.a)(B,2),P=E[0],V=E[1],G=W?W.depositedAmount.mul(I):p.b;Object(j.useEffect)((function(){if(W){e.updateTVL(I.mul(W.depositedAmount));var t=function(e,t,n,r,a){var o=t.mul(r).mul(a),c=e.mul(n).div(p.a);if(c.isZero())return null;var i=o.div(c).mul(100),s=Object(k.b)(i,y.c);try{return Number(s)}catch(l){return null}}(I,I,W.depositedAmount,W.tokenPerBlock,x.a.from(Object(u.b)(s)));V((function(e){return Object(a.a)(Object(a.a)({},e),{},{apr:t})}))}}),[I,null===W||void 0===W?void 0:W.depositedAmount]);var D=function(){var e=Object(h.a)(m.a.mark((function e(){var t,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&c){e.next=3;break}return V((function(e){return Object(a.a)(Object(a.a)({},e),{},{personalInfo:{amount:p.b,pendingRewards:p.b,lastClaim:0}})})),e.abrupt("return");case 3:return t=new w.a(i,c,n.address),e.prev=4,e.next=7,t.userInfo(n.pId,c);case 7:return r=e.sent,e.next=10,t.pendingRewards(n.pId,c);case 10:o=e.sent,V((function(e){return Object(a.a)(Object(a.a)({},e),{},{personalInfo:{amount:r[0],pendingRewards:o,lastClaim:r[3].toNumber()}})})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),V((function(e){return Object(a.a)(Object(a.a)({},e),{},{personalInfo:{amount:p.b,pendingRewards:p.b,lastClaim:0}})}));case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(h.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&c){e.next=3;break}return V((function(e){return Object(a.a)(Object(a.a)({},e),{},{isApproved:!1})})),e.abrupt("return");case 3:return t=new v.a(i,c,f.address),e.next=6,t.allowance(c,n.address);case 6:r=e.sent,V((function(e){return Object(a.a)(Object(a.a)({},e),{},{isApproved:r.gt(p.b)})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(h.a)(m.a.mark((function e(){var t,r,a,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&c){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,l(!0,"Claiming..."),e.next=6,i.getGasPrice();case 6:return t=e.sent,r=new w.a(i,c,n.address),a=x.a.from("280058"),e.prev=9,e.next=12,r.claimEstimateGas(n.pId);case 12:a=e.sent,e.next=17;break;case 15:e.prev=15,e.t0=e.catch(9);case 17:return e.next=19,r.claim(n.pId,t,Object(k.a)(a));case 19:return o=e.sent,l(!0,"Claiming...","",o),e.next=23,i.waitForTransaction(o);case 23:return l(!0,"Reloading..."),e.next=26,D();case 26:l(!1),e.next=34;break;case 29:e.prev=29,e.t1=e.catch(2),console.warn(e.t1),l(!1),R(e.t1.message||"Something went wrong",{variant:"error"});case 34:case"end":return e.stop()}}),e,null,[[2,29],[9,15]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(h.a)(m.a.mark((function e(t){var r,a,o,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&c){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,i.getGasPrice();case 5:return r=e.sent,l(!0,"Withdraw..."),a=new w.a(i,c,n.address),o=x.a.from("240000"),e.prev=9,e.next=12,a.withdrawEstimateGas(n.pId,t,!0);case 12:o=e.sent,e.next=17;break;case 15:e.prev=15,e.t0=e.catch(9);case 17:return e.next=19,a.withdraw(n.pId,t,!0,r,Object(k.a)(o));case 19:return s=e.sent,l(!0,"Withdraw...","",s),e.next=23,i.waitForTransaction(s);case 23:return l(!0,"Reloading..."),e.next=26,D();case 26:return e.next=28,L();case 28:l(!1),e.next=35;break;case 31:e.prev=31,e.t1=e.catch(2),l(!1),R(e.t1.message||"Something went wrong",{variant:"error"});case 35:case"end":return e.stop()}}),e,null,[[2,31],[9,15]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(h.a)(m.a.mark((function e(t){var r,a,o,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&c){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,l(!0,"EmergencyWithdraw..."),e.next=6,i.getGasPrice();case 6:return r=e.sent,a=new w.a(i,c,n.address),o=x.a.from("240000"),e.prev=9,e.next=12,a.emergencyWithdrawEstimateGas(n.pId,t);case 12:o=e.sent,e.next=17;break;case 15:e.prev=15,e.t0=e.catch(9);case 17:return e.next=19,a.emergencyWithdraw(n.pId,t,r,Object(k.a)(o));case 19:return s=e.sent,l(!0,"EmergencyWithdraw...","",s),e.next=23,i.waitForTransaction(s);case 23:return l(!0,"Reloading..."),e.next=26,D();case 26:return e.next=28,L();case 28:l(!1),e.next=35;break;case 31:e.prev=31,e.t1=e.catch(2),l(!1),R(e.t1.message||"Something went wrong",{variant:"error"});case 35:case"end":return e.stop()}}),e,null,[[2,31],[9,15]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(h.a)(m.a.mark((function e(t){var r,a,o,s,d,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&c){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,i.getGasPrice();case 5:return r=e.sent,a=new v.a(i,c,f.address),l(!0,"Check allowance..."),e.next=10,a.hasEnoughAllowance(c,n.address,t);case 10:if(e.sent){e.next=19;break}return l(!0,"Approving..."),e.next=15,a.approveUnlimited(n.address);case 15:return o=e.sent,l(!0,"Approving...","",o),e.next=19,i.waitForTransaction(o);case 19:return l(!0,"Depositing..."),s=new w.a(i,c,n.address),d=x.a.from("240000"),e.prev=22,e.next=25,s.depositEstimateGas(n.pId,t);case 25:d=e.sent,e.next=30;break;case 28:e.prev=28,e.t0=e.catch(22);case 30:return e.next=32,s.deposit(n.pId,t,r,Object(k.a)(d));case 32:return u=e.sent,l(!0,"Depositing...","",u),e.next=36,i.waitForTransaction(u);case 36:return l(!0,"Reloading..."),e.next=39,D();case 39:return e.next=41,L();case 41:l(!1),e.next=48;break;case 44:e.prev=44,e.t1=e.catch(2),l(!1),R(e.t1.message||"Something went wrong",{variant:"error"});case 48:case"end":return e.stop()}}),e,null,[[2,44],[22,28]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(h.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&c){e.next=2;break}return e.abrupt("return");case 2:return t=new v.a(i,c,f.address),l(!0,"Approving..."),e.prev=4,e.next=7,t.approveUnlimited(n.address);case 7:return r=e.sent,l(!0,"Approving...","",r),e.next=11,i.waitForTransaction(r);case 11:return l(!0,"Reloading..."),e.next=14,M();case 14:l(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),l(!1),R(e.t0.message||"Something went wrong",{variant:"error"});case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}();return Object(j.useEffect)((function(){D(),M()}),[c,s,n.address]),Object(S.jsx)(F,{loading:N&&!W,header:{label:n.name,apr:P.apr||0,icons:[f.image],totalStaked:W?W.depositedAmount:p.b,symbol:f.symbol.toUpperCase(),decimals:f.decimals,tvl:G,rewardSymbol:z.symbol.toUpperCase()},children:Object(S.jsxs)("div",{className:t.root,children:[Object(S.jsxs)("div",{className:t.infoSection,children:[Object(S.jsx)(d.e,{className:t.infoRow,label:"Buy Token",link:n.buyLink}),Object(S.jsx)(d.e,{className:t.infoRow,label:"View Token",link:"".concat(A,"address/").concat(n.token)}),Object(S.jsx)(d.e,{className:t.infoRow,label:"View Contract",link:"".concat(A,"address/").concat(n.address)})]}),Object(S.jsxs)("div",{className:t.actionContainer,children:[Object(S.jsx)(T,{earned:P.personalInfo.pendingRewards,token:f,onHarvest:U}),Object(S.jsx)(J,{isApproved:P.isApproved,depositedAmount:P.personalInfo.amount,token:f,onDeposit:Y,onWithdraw:H,onApprove:_,onEmergencyWithdraw:Z,lastClaim:P.personalInfo.lastClaim,lockPeriod:W?W.lockupDuration.toNumber():0,emgergencyWithdrawFee:W?W.emergencyWithdrawFee.toNumber()/10:0})]})]})})},K=(n(339),Object(c.a)((function(e){return{root:{},infoSection:{flexGrow:0,flexShrink:0,flexBasis:"auto",padding:8},infoRow:{"& + &":{marginTop:8}},actionContainer:{"& > * + *":{marginTop:8}}}})),Object(c.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",paddingBottom:12},label:{fontSize:18,color:e.colors.neutralLighter,fontWeight:600},value:{color:e.colors.primary,fontSize:36,fontWeight:800}}}))),Q=function(e){var t=K(),n=Object(u.g)("legio");return Object(S.jsxs)("div",{className:t.root,children:[Object(S.jsx)(s.a,{children:Object(S.jsx)(i.a,{className:t.label,children:"Total Value Locked:\xa0"})}),Object(S.jsx)(s.a,{children:Object(S.jsxs)(i.a,{className:t.value,component:"h3",variant:"h1",children:["$",Object(k.d)(Object(k.b)(e.tvl,n.decimals+y.c))]})})]})},X=(n(544),Object(c.a)((function(e){return{root:{"&+&":{marginTop:24}},content:{margin:"16px 0",textAlign:"left"}}})));t.default=function(){var e=Object(b.b)().networkId,t=Object(u.i)(e),n=X(),c=Object(j.useState)({tvl:{}}),f=Object(o.a)(c,2),m=f[0],h=f[1];Object(j.useEffect)((function(){h((function(){return{tvl:{}}}))}),[e]);var x=function(){var e=p.b;return Object.values(m.tvl).forEach((function(t){e=e.add(t)})),e}();return Object(S.jsxs)(d.i,{children:[Object(S.jsx)(i.a,{align:"center",component:"h3",variant:"h1",children:"Staking"}),Object(S.jsx)(Q,{tvl:x}),Object(S.jsx)(s.a,{p:3,children:Object(S.jsx)("div",{className:n.root,children:Object(S.jsx)("div",{className:n.content,children:Object(S.jsx)(l.a,{container:!0,spacing:2,children:t.map((function(e){return Object(S.jsx)(l.a,{item:!0,xs:12,sm:6,md:4,children:Object(S.jsx)(q,{data:e,updateTVL:function(t){h((function(n){return Object(a.a)(Object(a.a)({},n),{},{tvl:Object(a.a)(Object(a.a)({},n.tvl),{},Object(r.a)({},e.address,t))})}))}})},e.address)}))})})})})]})}}}]);
//# sourceMappingURL=13.5d52b276.chunk.js.map